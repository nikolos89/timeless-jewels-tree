import{a9 as jl,R as te,aa as Ul,S as tt,i as lt,s as st,I as ct,e as E,k as U,c as T,a as y,d as b,m as q,b as S,f as yt,g as D,ab as ql,J as dt,K as ht,L as mt,q as H,o as X,r as Fl,v as Pl,ac as Ot,N as $e,E as Ke,a8 as Bl,w as Ce,x as Oe,y as De,M as p,B as Ve,l as we,n as Ne,p as ze,G as Xe,V as Ae,ad as Rl,t as J,h as L,j as ke,U as et,a2 as Hl,a3 as Kl,X as Gl,T as Ge,W as he,P as Dt,O as Vt,Q as We}from"../chunks/index-7969860d.js";import{r as Wl,d as Yl}from"../chunks/index-3d8bec42.js";import{g as Me,b as Xl,a as qe,d as zt,t as Ut,c as xe,o as qt,e as Et,f as Ft,i as Bt,h as Ht,j as Ql,k as Kt,m as nt,n as Ml,p as Zl,s as xl,q as $l}from"../chunks/worker-53f9e239.js";import{c as Nl,d as le}from"../chunks/index-49a08d90.js";import{g as es,p as ts,S as At}from"../chunks/stores-0b2c0e1d.js";import"../chunks/singletons-cdeec3fd.js";const ls=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function ss(){const l=jl();return e=>{const t=ls.map(i=>te(e,i,r=>Ul(l,r)));return{destroy:()=>t.forEach(i=>i())}}}class is{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:t}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,t),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:t,context:i,width:r,height:s}){const n={context:i,width:r,height:s};if(this.needsResize&&(i.setTransform(t,0,0,t,0,0),this.needsResize=!1),this.needsSetup){for(const[u,o]of this.setups)o(n),this.setups.delete(u);this.needsSetup=!1}if(this.needsRedraw){e&&i.clearRect(0,0,r,s);for(const u of this.layerSequence)this.renderers.get(u)(n);this.needsRedraw=!1}}}function rs(l){let e,t,i,r,s,n,u,o,a;const h=l[13].default,m=ct(h,l,l[12],null);return{c(){e=E("canvas"),s=U(),n=E("div"),m&&m.c(),this.h()},l(d){e=T(d,"CANVAS",{style:!0,width:!0,height:!0}),y(e).forEach(b),s=q(d),n=T(d,"DIV",{style:!0});var g=y(n);m&&m.l(g),g.forEach(b),this.h()},h(){S(e,"style",t="display: block; width: "+l[1]+"px; height: "+l[2]+"px;"+(l[3]?` ${l[3]}`:"")),S(e,"width",i=l[1]*l[0]),S(e,"height",r=l[2]*l[0]),yt(n,"display","none")},m(d,g){D(d,e,g),l[14](e),D(d,s,g),D(d,n,g),m&&m.m(n,null),l[15](n),u=!0,o||(a=ql(l[6].call(null,e)),o=!0)},p(d,[g]){(!u||g&14&&t!==(t="display: block; width: "+d[1]+"px; height: "+d[2]+"px;"+(d[3]?` ${d[3]}`:"")))&&S(e,"style",t),(!u||g&3&&i!==(i=d[1]*d[0]))&&S(e,"width",i),(!u||g&5&&r!==(r=d[2]*d[0]))&&S(e,"height",r),m&&m.p&&(!u||g&4096)&&dt(m,h,d,d[12],u?mt(h,d[12],g,null):ht(d[12]),null)},i(d){u||(H(m,d),u=!0)},o(d){X(m,d),u=!1},d(d){d&&b(e),l[14](null),d&&b(s),d&&b(n),m&&m.d(d),l[15](null),o=!1,a()}}}const zl={};function ns(l,e,t){let{$$slots:i={},$$scope:r}=e,{width:s=640,height:n=640,pixelRatio:u=void 0,style:o=null,autoclear:a=!0}=e,h,m,d,g,c;const f=ss(),_=new is;function w(){_.redraw()}function N(){return h}function M(){return m}u===void 0&&(typeof window=="undefined"?u=2:u=window.devicePixelRatio);function O(){_.render({context:m,width:s,height:n,pixelRatio:u,autoclear:a}),d=window.requestAnimationFrame(O)}Fl(zl,{register:_.register,unregister:_.unregister,redraw:_.redraw}),Pl(()=>{m=h.getContext("2d"),c=new MutationObserver(I),c.observe(g,{childList:!0}),I(),O();function I(){const R=[...g.children].map(V=>+V.dataset.layerId);t(11,_.layerSequence=R,_),_.redraw()}}),Ot(()=>{typeof window!="undefined"&&(window.cancelAnimationFrame(d),c.disconnect())});function A(I){$e[I?"unshift":"push"](()=>{h=I,t(4,h)})}function P(I){$e[I?"unshift":"push"](()=>{g=I,t(5,g)})}return l.$$set=I=>{"width"in I&&t(1,s=I.width),"height"in I&&t(2,n=I.height),"pixelRatio"in I&&t(0,u=I.pixelRatio),"style"in I&&t(3,o=I.style),"autoclear"in I&&t(7,a=I.autoclear),"$$scope"in I&&t(12,r=I.$$scope)},l.$$.update=()=>{l.$$.dirty&2183&&_.resize()},[u,s,n,o,h,g,f,a,w,N,M,_,r,i,A,P]}class os extends tt{constructor(e){super(),lt(this,e,ns,rs,st,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function as(l){let e;return{c(){e=E("div"),this.h()},l(t){e=T(t,"DIV",{"data-layer-id":!0}),y(e).forEach(b),this.h()},h(){S(e,"data-layer-id",l[0])},m(t,i){D(t,e,i)},p:Ke,i:Ke,o:Ke,d(t){t&&b(e)}}}function fs(l,e,t){const{register:i,unregister:r,redraw:s}=Bl(zl);let{setup:n=void 0,render:u=()=>{}}=e;if(typeof n!="function"&&n!==void 0)throw new Error("setup must be a function");if(typeof u!="function")throw new Error("render must be a function");const o=i({setup:n,render:u});return Ot(()=>r(o)),l.$$set=a=>{"setup"in a&&t(1,n=a.setup),"render"in a&&t(2,u=a.render)},l.$$.update=()=>{l.$$.dirty&4&&s()},[o,n,u]}class us extends tt{constructor(e){super(),lt(this,e,fs,as,st,{setup:1,render:2})}}let Gt;const Cl=Date.now();function Ol(l){return l(Date.now()-Cl),Gt=window.requestAnimationFrame(()=>Ol(l)),()=>window.cancelAnimationFrame(Gt)}function cs(){}var ds=Wl(Date.now()-Cl,typeof window=="undefined"?cs:Ol);const{window:Ct}=Rl;function Wt(l){let e,t,i,r,s,n;t=new os({props:{width:l[0],height:l[1],$$slots:{default:[hs]},$$scope:{ctx:l}}}),t.$on("pointerdown",l[17]),t.$on("wheel",l[20]);const u=l[50].default,o=ct(u,l,l[51],null);return{c(){e=E("div"),Ce(t.$$.fragment),i=U(),o&&o.c(),this.h()},l(a){e=T(a,"DIV",{style:!0});var h=y(e);Oe(t.$$.fragment,h),i=q(h),o&&o.l(h),h.forEach(b),this.h()},h(){yt(e,"touch-action","none"),yt(e,"cursor",l[2])},m(a,h){D(a,e,h),De(t,e,null),p(e,i),o&&o.m(e,null),r=!0,s||(n=te(e,"resize",l[21]),s=!0)},p(a,h){const m={};h[0]&1&&(m.width=a[0]),h[0]&2&&(m.height=a[1]),h[0]&8|h[1]&1048576&&(m.$$scope={dirty:h,ctx:a}),t.$set(m),o&&o.p&&(!r||h[1]&1048576)&&dt(o,u,a,a[51],r?mt(u,a[51],h,null):ht(a[51]),null),(!r||h[0]&4)&&yt(e,"cursor",a[2])},i(a){r||(H(t.$$.fragment,a),H(o,a),r=!0)},o(a){X(t.$$.fragment,a),X(o,a),r=!1},d(a){a&&b(e),Ve(t),o&&o.d(a),s=!1,n()}}}function hs(l){let e,t;return e=new us({props:{render:l[3]}}),{c(){Ce(e.$$.fragment)},l(i){Oe(e.$$.fragment,i)},m(i,r){De(e,i,r),t=!0},p(i,r){const s={};r[0]&8&&(s.render=i[3]),e.$set(s)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){Ve(e,i)}}}function ms(l){let e,t,i,r,s=l[0]&&l[1]&&Wt(l);return{c(){s&&s.c(),e=we()},l(n){s&&s.l(n),e=we()},m(n,u){s&&s.m(n,u),D(n,e,u),t=!0,i||(r=[te(Ct,"pointerup",l[18]),te(Ct,"pointermove",l[19]),te(Ct,"resize",l[21])],i=!0)},p(n,u){n[0]&&n[1]?s?(s.p(n,u),u[0]&3&&H(s,1)):(s=Wt(n),s.c(),H(s,1),s.m(e.parentNode,e)):s&&(Ne(),X(s,1,1,()=>{s=null}),ze())},i(n){t||(H(s),t=!0)},o(n){X(s),t=!1},d(n){s&&s.d(n),n&&b(e),i=!1,Xe(r)}}}const Yt="25px Roboto Mono",Xt="17px Roboto Mono",rt=2.6;function _s(l,e,t){let i,r,s,n,u,o,a,h,m,d,g,c,f,_,w,{$$slots:N={},$$scope:M}=e,{clickNode:O}=e,{circledNode:A}=e,{selectedJewel:P}=e,{selectedConqueror:I}=e,{seed:R}=e,{highlighted:V=[]}=e,{disabled:C=[]}=e,{highlightJewels:K=!1}=e;const Y=Yl(ds,v=>(!V||!V.length)&&!K?0:Math.round(v/40));Ae(l,Y,v=>t(37,s=v));const Q=[427,320,226,227,323,422,329];let B=10,se=0,ee=0;const W=(v,me,Te)=>{const de=me.width/B*rt,fe=me.height/B*rt,_e=Te.x-de/2,k=Te.y-fe/2;v.drawImage(me,_e,k,de,fe)},Ie=(v,me,Te)=>{const de=me.width/B*rt,fe=me.height/B*rt,_e=Te.x-de/2,k=Te.y-fe/2,x=k-fe/2;v.drawImage(me,_e,x,de,fe),v.save(),v.translate(_e,k),v.rotate(Math.PI),v.drawImage(me,-de,-(fe/2),de,-fe),v.restore()},pe={},ae={},j=(v,me,Te,de=!1)=>{let fe=de?Ql[me]:Kt[me];!fe&&de&&(fe=Kt[me]);const _e=fe.filename;_e in(de?ae:pe)||((de?ae:pe)[_e]=new Image,(de?ae:pe)[_e].src=_e);const k=fe.coords[me],x=k.w/B*rt,ue=k.h/B*rt,$=Te.x-x/2,F=Te.y-ue/2;v.drawImage((de?ae:pe)[_e],k.x,k.y,k.w,k.h,$,F,x,ue)},ne=(v,me,Te)=>{const de=[];let fe="";return v.split(" ").forEach(_e=>{me.measureText(fe+_e).width<Te?fe+=" "+_e:(de.push(fe.trim()),fe=_e)}),fe.length>0&&de.push(fe.trim()),de};let Z={x:Number.MIN_VALUE,y:Number.MIN_VALUE},z="unset";const ie=Me("PSGroupBackground1");Ae(l,ie,v=>t(49,w=v));const be=Me("PSGroupBackground2");Ae(l,be,v=>t(48,_=v));const ce=Me("PSGroupBackground3");Ae(l,ce,v=>t(47,f=v));const Se=Me("KeystoneFrameAllocated");Ae(l,Se,v=>t(46,c=v));const Je=Me("KeystoneFrameUnallocated");Ae(l,Je,v=>t(45,g=v));const ve=Me("NotableFrameAllocated");Ae(l,ve,v=>t(44,d=v));const Pe=Me("NotableFrameUnallocated");Ae(l,Pe,v=>t(43,m=v));const Le=Me("JewelSocketAltNormal");Ae(l,Le,v=>t(42,h=v));const Qe=Me("JewelFrameAllocated");Ae(l,Qe,v=>t(41,a=v));const je=Me("JewelFrameUnallocated");Ae(l,je,v=>t(40,o=v));const _t=Me("PSSkillFrameActive");Ae(l,_t,v=>t(39,u=v));const gt=Me("PSSkillFrame");Ae(l,gt,v=>t(38,n=v));let Ee,pt=0,bt=0,vt=0,wt=0,ot=!1;const Pt=v=>{ot=!0,pt=v.offsetX,bt=v.offsetY,vt=se,wt=ee,t(33,Z={x:v.offsetX,y:v.offsetY}),Ee&&O(Ee)},Rt=v=>{v.type==="pointerup"&&(ot=!1),t(33,Z={x:v.offsetX,y:v.offsetY})},Mt=v=>{ot&&(t(31,se=vt-(pt-v.offsetX)*B),t(32,ee=wt-(bt-v.offsetY)*B)),t(33,Z={x:v.offsetX,y:v.offsetY})},Nt=v=>{v.deltaY>0?B<30&&(t(31,se+=v.offsetX),t(32,ee+=v.offsetY)):B>3&&(t(31,se-=v.offsetX),t(32,ee-=v.offsetY)),t(30,B=Math.min(30,Math.max(3,B+v.deltaY/100))),v.preventDefault(),v.stopPropagation(),v.stopImmediatePropagation()};let kt=0,St=0;const It=()=>{t(0,kt=window.innerWidth),t(1,St=window.innerHeight)};let at=!1;return l.$$set=v=>{"clickNode"in v&&t(22,O=v.clickNode),"circledNode"in v&&t(23,A=v.circledNode),"selectedJewel"in v&&t(24,P=v.selectedJewel),"selectedConqueror"in v&&t(25,I=v.selectedConqueror),"seed"in v&&t(26,R=v.seed),"highlighted"in v&&t(27,V=v.highlighted),"disabled"in v&&t(28,C=v.disabled),"highlightJewels"in v&&t(29,K=v.highlightJewels),"$$scope"in v&&t(51,M=v.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&1073741824&&t(36,i=Xl/B),l.$$.dirty[0]&1073741824|l.$$.dirty[1]&16&&(!at&&qe&&(t(35,at=!0),t(31,se=qe.min_x+window.innerWidth/2*B),t(32,ee=qe.min_y+window.innerHeight/2*B)),It()),l.$$.dirty[0]&2139095040|l.$$.dirty[1]&524271&&t(3,r=({context:v,width:me,height:Te})=>{const de=window.performance.now();v.clearRect(0,0,me,Te),v.fillStyle="#080c11",v.fillRect(0,0,me,Te);const fe={};Object.keys(zt).forEach($=>{const F=zt[$],G=Ut(F.x,F.y,se,ee,B),re=Math.max(...F.orbits);Q.indexOf(parseInt($))>=0||(re==1?W(v,w,G):re==2?W(v,_,G):(re==3||F.orbits.length>1)&&Ie(v,f,G))}),Object.keys(xe).forEach($=>{var oe;const F=xe[$],G=qt(F.orbit,F.orbitIndex),re=Et(F,se,ee,B);(oe=F.out)==null||oe.forEach(Ze=>{if(!xe[parseInt(Ze)])return;const Fe=Math.min(parseInt(Ze),parseInt($)),ft=Math.max(parseInt(Ze),parseInt($)),ge=Fe+":"+ft;if(ge in fe)return;fe[ge]=!0;const ye=xe[parseInt(Ze)];if(!ye||ye.isMastery)return;const it=qt(ye.orbit,ye.orbitIndex),Be=Et(ye,se,ee,B);if(v.beginPath(),F.group!=ye.group||F.orbit!=ye.orbit)v.moveTo(re.x,re.y),v.lineTo(Be.x,Be.y);else{let Re=Math.PI/180-Math.PI/180*G,Ue=Math.PI/180-Math.PI/180*it;Re-=Math.PI/2,Ue-=Math.PI/2;const Jt=Math.abs(Math.max(Re,Ue)-Math.min(Re,Ue)),Jl=Jt>Math.PI?Math.max(Re,Ue):Math.min(Re,Ue),Ll=Jt>Math.PI?Math.min(Re,Ue):Math.max(Re,Ue),Lt=zt[F.group],jt=Ut(Lt.x,Lt.y,se,ee,B);v.arc(jt.x,jt.y,qe.constants.orbitRadii[F.orbit]/B+1,Jl,Ll)}v.lineWidth=6/B,v.strokeStyle="#524518",v.stroke()})});let _e;A&&(_e=Et(xe[A],se,ee,B),v.strokeStyle="#ad2b2b");let k=!1,x;if(Object.keys(xe).forEach($=>{const F=xe[$],G=Et(F,se,ee,B);let re=0,oe=!1;A&&Ft(G,_e)<i&&(oe=!0),C.indexOf(F.skill)>=0&&(oe=!1),F.isKeystone?(re=110,j(v,F.icon,G,oe),oe?W(v,c,G):W(v,g,G)):F.isNotable?(re=70,j(v,F.icon,G,oe),oe?W(v,d,G):W(v,m,G)):F.isJewelSocket?(re=70,F.expansionJewel?W(v,h,G):oe?W(v,a,G):W(v,o,G)):F.isMastery?j(v,F.inactiveIcon,G,oe):(re=50,j(v,F.icon,G,oe),oe?W(v,u,G):W(v,n,G)),(V.indexOf(F.skill)>=0||K&&F.isJewelSocket)&&(v.strokeStyle=`hsl(${s}, 100%, 50%)`,v.lineWidth=3,v.beginPath(),v.arc(G.x,G.y,(re+30)/B,0,Math.PI*2),v.stroke()),Ft(G,Z)<re/B&&(x=F,k=oe)}),t(34,Ee=x),A&&(v.strokeStyle="#ad2b2b",v.lineWidth=1,v.beginPath(),v.arc(_e.x,_e.y,i,0,Math.PI*2),v.stroke()),Ee){let $=Ee.name,F=(Ee.stats||[]).map(ge=>({text:ge,special:!1}));if(!Ee.isJewelSocket&&k&&Ee.skill&&R&&P&&I){const ge=Nl.Calculate(le.TreeToPassive[Ee.skill].Index,R,P,I);ge&&("AlternatePassiveSkill"in ge&&ge.AlternatePassiveSkill&&(F=[],$=ge.AlternatePassiveSkill.Name,"StatsKeys"in ge.AlternatePassiveSkill&&ge.AlternatePassiveSkill.StatsKeys.forEach((ye,it)=>{const Be=le.GetStatByIndex(ye),Re=Bt[Be.ID]||"";Re&&F.push({text:Ht(Re,ge.StatRolls[it])||Be.ID,special:!0})})),ge.AlternatePassiveAdditionInformations&&ge.AlternatePassiveAdditionInformations.forEach(ye=>{"StatsKeys"in ye.AlternatePassiveAddition&&ye.AlternatePassiveAddition.StatsKeys.forEach((it,Be)=>{const Re=le.GetStatByIndex(it),Ue=Bt[Re.ID]||"";Ue&&F.push({text:Ht(Ue,ye.StatRolls[Be])||Re.ID,special:!0})})}))}v.font=Yt;const G=v.measureText($),re=Math.max(G.width+50,600);v.font=Xt;const oe=[],Ze=30;let Fe=85;F&&F.length>0?F.forEach(ge=>{oe.length>0&&(Fe+=5),ge.text.split(`
`).forEach(ye=>{oe.length>0&&(Fe+=10),ne(ye,v,re-Ze).forEach(Be=>{oe.push({text:Be,offset:Fe,special:ge.special}),Fe+=20})})}):Ee.isJewelSocket&&(oe.push({text:"Click to select this socket",offset:Fe,special:!0}),Fe+=20);const ft=55;v.fillStyle="rgba(75,63,24,0.9)",v.fillRect(Z.x,Z.y,re,ft),v.fillStyle="#ffffff",v.font=Yt,v.textAlign="center",v.fillText($,Z.x+re/2,Z.y+35),v.fillStyle="rgba(0,0,0,0.8)",v.fillRect(Z.x,Z.y+ft,re,Fe-ft),v.font=Xt,v.textAlign="left",oe.forEach(ge=>{ge.special?v.fillStyle="#8cf34c":v.fillStyle="#ffffff",v.fillText(ge.text,Z.x+Ze/2,Z.y+ge.offset)})}Ee&&Ee.isJewelSocket?t(2,z="pointer"):t(2,z="unset"),v.fillStyle="#ffffff",v.textAlign="right",v.font="12px Roboto Mono";const ue=window.performance.now();v.fillText(`${(ue-de).toFixed(1)}ms`,me-5,17)})},[kt,St,z,r,Y,ie,be,ce,Se,Je,ve,Pe,Le,Qe,je,_t,gt,Pt,Rt,Mt,Nt,It,O,A,P,I,R,V,C,K,B,se,ee,Z,Ee,at,i,s,n,u,o,a,h,m,d,g,c,f,_,w,N,M]}class gs extends tt{constructor(e){super(),lt(this,e,_s,ms,st,{clickNode:22,circledNode:23,selectedJewel:24,selectedConqueror:25,seed:26,highlighted:27,disabled:28,highlightJewels:29},null,[-1,-1,-1])}}function Qt(l,e,t){const i=l.slice();return i[6]=e[t],i}function Zt(l,e,t){const i=l.slice();return i[9]=e[t],i}function xt(l){let e,t=nt(l[9],l[6].stats[l[9]])+"",i;return{c(){e=E("li"),i=J(t)},l(r){e=T(r,"LI",{});var s=y(e);i=L(s,t),s.forEach(b)},m(r,s){D(r,e,s),p(e,i)},p(r,s){s&2&&t!==(t=nt(r[9],r[6].stats[r[9]])+"")&&ke(i,t)},d(r){r&&b(e)}}}function $t(l){let e,t,i=qe.nodes[l[6].passive].name+"",r,s,n=l[6].passive+"",u,o,a,h,m,d=Object.keys(l[6].stats),g=[];for(let c=0;c<d.length;c+=1)g[c]=xt(Zt(l,d,c));return{c(){e=E("div"),t=E("span"),r=J(i),s=J(" ("),u=J(n),o=J(")"),a=U(),h=E("ul");for(let c=0;c<g.length;c+=1)g[c].c();m=U(),this.h()},l(c){e=T(c,"DIV",{class:!0});var f=y(e);t=T(f,"SPAN",{});var _=y(t);r=L(_,i),s=L(_," ("),u=L(_,n),o=L(_,")"),_.forEach(b),a=q(f),h=T(f,"UL",{class:!0});var w=y(h);for(let N=0;N<g.length;N+=1)g[N].l(w);w.forEach(b),m=q(f),f.forEach(b),this.h()},h(){S(h,"class","list-disc pl-6 font-bold"),S(e,"class","mt-2")},m(c,f){D(c,e,f),p(e,t),p(t,r),p(t,s),p(t,u),p(t,o),p(e,a),p(e,h);for(let _=0;_<g.length;_+=1)g[_].m(h,null);p(e,m)},p(c,f){if(f&2&&i!==(i=qe.nodes[c[6].passive].name+"")&&ke(r,i),f&2&&n!==(n=c[6].passive+"")&&ke(u,n),f&2){d=Object.keys(c[6].stats);let _;for(_=0;_<d.length;_+=1){const w=Zt(c,d,_);g[_]?g[_].p(w,f):(g[_]=xt(w),g[_].c(),g[_].m(h,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=d.length}},d(c){c&&b(e),et(g,c)}}}function ps(l){let e,t,i,r,s,n,u,o=l[1].seed+"",a,h,m=l[1].weight+"",d,g,c,f,_,w,N,M,O=l[1].skills,A=[];for(let P=0;P<O.length;P+=1)A[P]=$t(Qt(l,O,P));return{c(){e=E("div"),t=E("div"),i=E("button"),r=J("Trade"),s=U(),n=E("div"),u=J("Seed "),a=J(o),h=J(" (weight "),d=J(m),g=J(")"),c=U(),f=E("button"),_=J("Trade"),w=U();for(let P=0;P<A.length;P+=1)A[P].c();this.h()},l(P){e=T(P,"DIV",{class:!0});var I=y(e);t=T(I,"DIV",{class:!0});var R=y(t);i=T(R,"BUTTON",{class:!0});var V=y(i);r=L(V,"Trade"),V.forEach(b),s=q(R),n=T(R,"DIV",{class:!0});var C=y(n);u=L(C,"Seed "),a=L(C,o),h=L(C," (weight "),d=L(C,m),g=L(C,")"),C.forEach(b),c=q(R),f=T(R,"BUTTON",{class:!0});var K=y(f);_=L(K,"Trade"),K.forEach(b),R.forEach(b),w=q(I);for(let Y=0;Y<A.length;Y+=1)A[Y].l(I);I.forEach(b),this.h()},h(){S(i,"class","px-3 invisible"),S(n,"class","font-bold text-orange-500 text-center"),S(f,"class","px-3 bg-blue-500/40 rounded"),S(t,"class","flex flex-row justify-between"),S(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(P,I){D(P,e,I),p(e,t),p(t,i),p(i,r),p(t,s),p(t,n),p(n,u),p(n,a),p(n,h),p(n,d),p(n,g),p(t,c),p(t,f),p(f,_),p(e,w);for(let R=0;R<A.length;R+=1)A[R].m(e,null);N||(M=[te(f,"click",l[4]),te(e,"click",l[5])],N=!0)},p(P,[I]){if(I&2&&o!==(o=P[1].seed+"")&&ke(a,o),I&2&&m!==(m=P[1].weight+"")&&ke(d,m),I&2){O=P[1].skills;let R;for(R=0;R<O.length;R+=1){const V=Qt(P,O,R);A[R]?A[R].p(V,I):(A[R]=$t(V),A[R].c(),A[R].m(e,null))}for(;R<A.length;R+=1)A[R].d(1);A.length=O.length}},i:Ke,o:Ke,d(P){P&&b(e),et(A,P),N=!1,Xe(M)}}}function bs(l,e,t){let{highlight:i}=e,{set:r}=e,{jewel:s}=e,{conqueror:n}=e;const u=()=>Ml(s,n,[r]),o=()=>i(r.seed,r.skills.map(a=>a.passive));return l.$$set=a=>{"highlight"in a&&t(0,i=a.highlight),"set"in a&&t(1,r=a.set),"jewel"in a&&t(2,s=a.jewel),"conqueror"in a&&t(3,n=a.conqueror)},[i,r,s,n,u,o]}class Dl extends tt{constructor(e){super(),lt(this,e,bs,ps,st,{highlight:0,set:1,jewel:2,conqueror:3})}}const Tt={AUTO:"auto",START:"start",CENTER:"center",END:"end"},He={HORIZONTAL:"horizontal",VERTICAL:"vertical"},ut={OBSERVED:0,REQUESTED:1},vs={[He.VERTICAL]:"top",[He.HORIZONTAL]:"left"},el={[He.VERTICAL]:"scrollTop",[He.HORIZONTAL]:"scrollLeft"};class ws{constructor({itemSize:e,itemCount:t,estimatedItemSize:i}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:i}){t!=null&&(this.itemCount=t),i!=null&&(this.estimatedItemSize=i),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const i=this.getSize(t),r=e;e+=i,this.itemSizeAndPositionData[t]={offset:r,size:i}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let i=t.offset+t.size;for(let r=this.lastMeasuredIndex+1;r<=e;r++){const s=this.getSize(r);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${r} of value ${s}`);this.itemSizeAndPositionData[r]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Tt.START,containerSize:t,currentOffset:i,targetIndex:r}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(r),n=s.offset,u=n-t+s.size;let o;switch(e){case Tt.END:o=u;break;case Tt.CENTER:o=n-(t-s.size)/2;break;case Tt.START:o=n;break;default:o=Math.max(u,Math.min(n,i))}const a=this.getTotalSize();return Math.max(0,Math.min(a-t,o))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:i}){if(this.getTotalSize()===0)return{};const s=t+e;let n=this.findNearestItem(t);if(n===void 0)throw Error(`Invalid offset ${t} specified`);const u=this.getSizeAndPositionForIndex(n);t=u.offset+u.size;let o=n;for(;t<s&&o<this.itemCount-1;)o++,t+=this.getSizeAndPositionForIndex(o).size;return i&&(n=Math.max(0,n-i),o=Math.min(o+i,this.itemCount-1)),{start:n,stop:o}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:i,low:0,offset:e}):this.exponentialSearch({index:i,offset:e})}binarySearch({low:e,high:t,offset:i}){let r=0,s=0;for(;e<=t;){if(r=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(r).offset,s===i)return r;s<i?e=r+1:s>i&&(t=r-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let i=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=i,i*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const ks=l=>({}),tl=l=>({});function ll(l,e,t){const i=l.slice();return i[37]=e[t],i}const Ss=l=>({style:l[0]&4,index:l[0]&4}),sl=l=>({style:l[37].style,index:l[37].index}),Is=l=>({}),il=l=>({});function rl(l,e){let t,i;const r=e[21].item,s=ct(r,e,e[20],sl);return{key:l,first:null,c(){t=we(),s&&s.c(),this.h()},l(n){t=we(),s&&s.l(n),this.h()},h(){this.first=t},m(n,u){D(n,t,u),s&&s.m(n,u),i=!0},p(n,u){e=n,s&&s.p&&(!i||u[0]&1048580)&&dt(s,r,e,e[20],i?mt(r,e[20],u,Ss):ht(e[20]),sl)},i(n){i||(H(s,n),i=!0)},o(n){X(s,n),i=!1},d(n){n&&b(t),s&&s.d(n)}}}function Es(l){let e,t,i,r=[],s=new Map,n,u;const o=l[21].header,a=ct(o,l,l[20],il);let h=l[2];const m=c=>c[0]?c[0](c[37].index):c[37].index;for(let c=0;c<h.length;c+=1){let f=ll(l,h,c),_=m(f);s.set(_,r[c]=rl(_,f))}const d=l[21].footer,g=ct(d,l,l[20],tl);return{c(){e=E("div"),a&&a.c(),t=U(),i=E("div");for(let c=0;c<r.length;c+=1)r[c].c();n=U(),g&&g.c(),this.h()},l(c){e=T(c,"DIV",{class:!0,style:!0});var f=y(e);a&&a.l(f),t=q(f),i=T(f,"DIV",{class:!0,style:!0});var _=y(i);for(let w=0;w<r.length;w+=1)r[w].l(_);_.forEach(b),n=q(f),g&&g.l(f),f.forEach(b),this.h()},h(){S(i,"class","virtual-list-inner svelte-1d4hv8l"),S(i,"style",l[4]),S(e,"class","virtual-list-wrapper svelte-1d4hv8l"),S(e,"style",l[3])},m(c,f){D(c,e,f),a&&a.m(e,null),p(e,t),p(e,i);for(let _=0;_<r.length;_+=1)r[_].m(i,null);p(e,n),g&&g.m(e,null),l[22](e),u=!0},p(c,f){a&&a.p&&(!u||f[0]&1048576)&&dt(a,o,c,c[20],u?mt(o,c[20],f,Is):ht(c[20]),il),f[0]&1048581&&(h=c[2],Ne(),r=Hl(r,f,m,1,c,h,s,i,Kl,rl,null,ll),ze()),(!u||f[0]&16)&&S(i,"style",c[4]),g&&g.p&&(!u||f[0]&1048576)&&dt(g,d,c,c[20],u?mt(d,c[20],f,ks):ht(c[20]),tl),(!u||f[0]&8)&&S(e,"style",c[3])},i(c){if(!u){H(a,c);for(let f=0;f<h.length;f+=1)H(r[f]);H(g,c),u=!0}},o(c){X(a,c);for(let f=0;f<r.length;f+=1)X(r[f]);X(g,c),u=!1},d(c){c&&b(e),a&&a.d(c);for(let f=0;f<r.length;f+=1)r[f].d();g&&g.d(c),l[22](null)}}}const Ts=(()=>{let l=!1;try{const e=Object.defineProperty({},"passive",{get(){return l={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return l})();function ys(l,e,t){let{$$slots:i={},$$scope:r}=e,{height:s}=e,{width:n="100%"}=e,{itemCount:u}=e,{itemSize:o}=e,{estimatedItemSize:a=null}=e,{stickyIndices:h=null}=e,{getKey:m=null}=e,{scrollDirection:d=He.VERTICAL}=e,{scrollOffset:g=null}=e,{scrollToIndex:c=null}=e,{scrollToAlignment:f=null}=e,{scrollToBehaviour:_="instant"}=e,{overscanCount:w=3}=e;const N=Gl(),M=new ws({itemCount:u,itemSize:o,estimatedItemSize:j()});let O=!1,A,P=[],I={offset:g||c!=null&&P.length&&Ie(c)||0,scrollChangeReason:ut.REQUESTED},R=I,V={scrollToIndex:c,scrollToAlignment:f,scrollOffset:g,itemCount:u,itemSize:o,estimatedItemSize:a},C={},K="",Y="";se(),Pl(()=>{t(18,O=!0),A.addEventListener("scroll",pe,Ts),g!=null?ee(g):c!=null&&ee(Ie(c))}),Ot(()=>{O&&A.removeEventListener("scroll",pe)});function Q(){if(!O)return;const z=V.scrollToIndex!==c||V.scrollToAlignment!==f,ie=V.itemCount!==u||V.itemSize!==o||V.estimatedItemSize!==a;ie&&(M.updateConfig({itemSize:o,itemCount:u,estimatedItemSize:j()}),W()),V.scrollOffset!==g?t(19,I={offset:g||0,scrollChangeReason:ut.REQUESTED}):typeof c=="number"&&(z||ie)&&t(19,I={offset:Ie(c,f,u),scrollChangeReason:ut.REQUESTED}),V={scrollToIndex:c,scrollToAlignment:f,scrollOffset:g,itemCount:u,itemSize:o,estimatedItemSize:a}}function B(){if(!O)return;const{offset:z,scrollChangeReason:ie}=I;(R.offset!==z||R.scrollChangeReason!==ie)&&se(),R.offset!==z&&ie===ut.REQUESTED&&ee(z),R=I}function se(){const{offset:z}=I,{start:ie,stop:be}=M.getVisibleRange({containerSize:d===He.VERTICAL?s:n,offset:z,overscanCount:w});let ce=[];const Se=M.getTotalSize();d===He.VERTICAL?(t(3,K=`height:${s}px;width:${n};`),t(4,Y=`flex-direction:column;height:${Se}px;`)):(t(3,K=`height:${s};width:${n}px`),t(4,Y=`min-height:100%;width:${Se}px;`));const Je=h!=null&&h.length!==0;if(Je)for(let ve=0;ve<h.length;ve++){const Pe=h[ve];ce.push({index:Pe,style:ne(Pe,!0)})}if(ie!==void 0&&be!==void 0){for(let ve=ie;ve<=be;ve++)Je&&h.includes(ve)||ce.push({index:ve,style:ne(ve,!1)});N("itemsUpdated",{start:ie,end:be})}t(2,P=ce)}function ee(z){"scroll"in A?A.scroll({[vs[d]]:z,behavior:_}):t(1,A[el[d]]=z,A)}function W(z=0){C={},M.resetItem(z),se()}function Ie(z,ie=f,be=u){return(z<0||z>=be)&&(z=0),M.getUpdatedOffsetForIndex({align:ie,containerSize:d===He.VERTICAL?s:n,currentOffset:I.offset||0,targetIndex:z})}function pe(z){const ie=ae();ie<0||I.offset===ie||z.target!==A||(t(19,I={offset:ie,scrollChangeReason:ut.OBSERVED}),N("afterScroll",{offset:ie,event:z}))}function ae(){return A[el[d]]}function j(){return a||typeof o=="number"&&o||50}function ne(z,ie){if(C[z])return C[z];const{size:be,offset:ce}=M.getSizeAndPositionForIndex(z);let Se;return d===He.VERTICAL?(Se=`left:0;width:100%;height:${be}px;`,ie?Se+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ce}px;margin-bottom:${-(ce+be)}px;`:Se+=`position:absolute;top:${ce}px;`):(Se=`top:0;width:${be}px;`,ie?Se+=`position:sticky;z-index:1;left:0;margin-left:${ce}px;margin-right:${-(ce+be)}px;`:Se+=`position:absolute;height:100%;left:${ce}px;`),C[z]=Se}function Z(z){$e[z?"unshift":"push"](()=>{A=z,t(1,A)})}return l.$$set=z=>{"height"in z&&t(5,s=z.height),"width"in z&&t(6,n=z.width),"itemCount"in z&&t(7,u=z.itemCount),"itemSize"in z&&t(8,o=z.itemSize),"estimatedItemSize"in z&&t(9,a=z.estimatedItemSize),"stickyIndices"in z&&t(10,h=z.stickyIndices),"getKey"in z&&t(0,m=z.getKey),"scrollDirection"in z&&t(11,d=z.scrollDirection),"scrollOffset"in z&&t(12,g=z.scrollOffset),"scrollToIndex"in z&&t(13,c=z.scrollToIndex),"scrollToAlignment"in z&&t(14,f=z.scrollToAlignment),"scrollToBehaviour"in z&&t(15,_=z.scrollToBehaviour),"overscanCount"in z&&t(16,w=z.overscanCount),"$$scope"in z&&t(20,r=z.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&29568&&Q(),l.$$.dirty[0]&524288&&B(),l.$$.dirty[0]&263264&&O&&W(0)},[m,A,P,K,Y,s,n,u,o,a,h,d,g,c,f,_,w,W,O,I,r,i,Z]}class Vl extends tt{constructor(e){super(),lt(this,e,ys,Es,st,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function nl(l,e,t){const i=l.slice();return i[9]=e[t],i}function As(l){let e,t,i;return t=new Vl({props:{height:"auto",overscanCount:15,itemCount:l[0].raw.length,itemSize:l[0].raw.map(l[6]),$$slots:{item:[Rs,({style:r,index:s})=>({12:r,13:s}),({style:r,index:s})=>(r?4096:0)|(s?8192:0)]},$$scope:{ctx:l}}}),{c(){e=E("div"),Ce(t.$$.fragment),this.h()},l(r){e=T(r,"DIV",{class:!0});var s=y(e);Oe(t.$$.fragment,s),s.forEach(b),this.h()},h(){S(e,"class","mt-4 flex flex-col overflow-auto")},m(r,s){D(r,e,s),De(t,e,null),i=!0},p(r,s){const n={};s&1&&(n.itemCount=r[0].raw.length),s&1&&(n.itemSize=r[0].raw.map(r[6])),s&28699&&(n.$$scope={dirty:s,ctx:r}),t.$set(n)},i(r){i||(H(t.$$.fragment,r),i=!0)},o(r){X(t.$$.fragment,r),i=!1},d(r){r&&b(e),Ve(t)}}}function Ps(l){let e,t,i=Object.keys(l[0].grouped).map(l[7]).sort(fl).reverse(),r=[];for(let n=0;n<i.length;n+=1)r[n]=al(nl(l,i,n));const s=n=>X(r[n],1,1,()=>{r[n]=null});return{c(){e=E("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=T(n,"DIV",{class:!0});var u=y(e);for(let o=0;o<r.length;o+=1)r[o].l(u);u.forEach(b),this.h()},h(){S(e,"class","flex flex-col overflow-auto")},m(n,u){D(n,e,u);for(let o=0;o<r.length;o+=1)r[o].m(e,null);t=!0},p(n,u){if(u&12411){i=Object.keys(n[0].grouped).map(n[7]).sort(fl).reverse();let o;for(o=0;o<i.length;o+=1){const a=nl(n,i,o);r[o]?(r[o].p(a,u),H(r[o],1)):(r[o]=al(a),r[o].c(),H(r[o],1),r[o].m(e,null))}for(Ne(),o=i.length;o<r.length;o+=1)s(o);ze()}},i(n){if(!t){for(let u=0;u<i.length;u+=1)H(r[u]);t=!0}},o(n){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)X(r[u]);t=!1},d(n){n&&b(e),et(r,n)}}}function Rs(l){let e,t,i,r;return t=new Dl({props:{set:l[0].raw[l[13]],highlight:l[1],jewel:l[3],conqueror:l[4]}}),{c(){e=E("div"),Ce(t.$$.fragment),this.h()},l(s){e=T(s,"DIV",{slot:!0,style:!0});var n=y(e);Oe(t.$$.fragment,n),n.forEach(b),this.h()},h(){S(e,"slot","item"),S(e,"style",i=l[12])},m(s,n){D(s,e,n),De(t,e,null),r=!0},p(s,n){const u={};n&8193&&(u.set=s[0].raw[s[13]]),n&2&&(u.highlight=s[1]),n&8&&(u.jewel=s[3]),n&16&&(u.conqueror=s[4]),t.$set(u),(!r||n&4096&&i!==(i=s[12]))&&S(e,"style",i)},i(s){r||(H(t.$$.fragment,s),r=!0)},o(s){X(t.$$.fragment,s),r=!1},d(s){s&&b(e),Ve(t)}}}function ol(l){let e,t,i,r;return t=new Vl({props:{height:"auto",overscanCount:10,itemCount:l[0].grouped[l[9]].length,itemSize:l[0].grouped[l[9]].map(l[6]),$$slots:{item:[Ms,({style:s,index:n})=>({12:s,13:n}),({style:s,index:n})=>(s?4096:0)|(n?8192:0)]},$$scope:{ctx:l}}}),{c(){e=E("div"),Ce(t.$$.fragment),i=U(),this.h()},l(s){e=T(s,"DIV",{class:!0});var n=y(e);Oe(t.$$.fragment,n),i=q(n),n.forEach(b),this.h()},h(){S(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(s,n){D(s,e,n),De(t,e,null),p(e,i),r=!0},p(s,n){const u={};n&1&&(u.itemCount=s[0].grouped[s[9]].length),n&1&&(u.itemSize=s[0].grouped[s[9]].map(s[6])),n&28699&&(u.$$scope={dirty:n,ctx:s}),t.$set(u)},i(s){r||(H(t.$$.fragment,s),r=!0)},o(s){X(t.$$.fragment,s),r=!1},d(s){s&&b(e),Ve(t)}}}function Ms(l){let e,t,i,r;return t=new Dl({props:{set:l[0].grouped[l[9]][l[13]],highlight:l[1],jewel:l[3],conqueror:l[4]}}),{c(){e=E("div"),Ce(t.$$.fragment),this.h()},l(s){e=T(s,"DIV",{slot:!0,style:!0});var n=y(e);Oe(t.$$.fragment,n),n.forEach(b),this.h()},h(){S(e,"slot","item"),S(e,"style",i=l[12])},m(s,n){D(s,e,n),De(t,e,null),r=!0},p(s,n){const u={};n&8193&&(u.set=s[0].grouped[s[9]][s[13]]),n&2&&(u.highlight=s[1]),n&8&&(u.jewel=s[3]),n&16&&(u.conqueror=s[4]),t.$set(u),(!r||n&4096&&i!==(i=s[12]))&&S(e,"style",i)},i(s){r||(H(t.$$.fragment,s),r=!0)},o(s){X(t.$$.fragment,s),r=!1},d(s){s&&b(e),Ve(t)}}}function al(l){let e,t,i=l[9]+"",r,s,n=l[9]>1?"es":"",u,o,a=l[0].grouped[l[9]].length+"",h,m,d,g,c=l[5]===l[9]?"^":"V",f,_,w,N,M,O;function A(){return l[8](l[9])}let P=l[5]===l[9]&&ol(l);return{c(){e=E("button"),t=E("span"),r=J(i),s=J(" Match"),u=J(n),o=J(" ["),h=J(a),m=J("]"),d=U(),g=E("span"),f=J(c),_=U(),P&&P.c(),w=we(),this.h()},l(I){e=T(I,"BUTTON",{class:!0});var R=y(e);t=T(R,"SPAN",{});var V=y(t);r=L(V,i),s=L(V," Match"),u=L(V,n),o=L(V," ["),h=L(V,a),m=L(V,"]"),V.forEach(b),d=q(R),g=T(R,"SPAN",{});var C=y(g);f=L(C,c),C.forEach(b),R.forEach(b),_=q(I),P&&P.l(I),w=we(),this.h()},h(){S(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(I,R){D(I,e,R),p(e,t),p(t,r),p(t,s),p(t,u),p(t,o),p(t,h),p(t,m),p(e,d),p(e,g),p(g,f),D(I,_,R),P&&P.m(I,R),D(I,w,R),N=!0,M||(O=te(e,"click",A),M=!0)},p(I,R){l=I,(!N||R&1)&&i!==(i=l[9]+"")&&ke(r,i),(!N||R&1)&&n!==(n=l[9]>1?"es":"")&&ke(u,n),(!N||R&1)&&a!==(a=l[0].grouped[l[9]].length+"")&&ke(h,a),(!N||R&33)&&c!==(c=l[5]===l[9]?"^":"V")&&ke(f,c),l[5]===l[9]?P?(P.p(l,R),R&33&&H(P,1)):(P=ol(l),P.c(),H(P,1),P.m(w.parentNode,w)):P&&(Ne(),X(P,1,1,()=>{P=null}),ze())},i(I){N||(H(P),N=!0)},o(I){X(P),N=!1},d(I){I&&b(e),I&&b(_),P&&P.d(I),I&&b(w),M=!1,O()}}}function Ns(l){let e,t,i,r;const s=[Ps,As],n=[];function u(o,a){return o[2]?0:1}return e=u(l),t=n[e]=s[e](l),{c(){t.c(),i=we()},l(o){t.l(o),i=we()},m(o,a){n[e].m(o,a),D(o,i,a),r=!0},p(o,[a]){let h=e;e=u(o),e===h?n[e].p(o,a):(Ne(),X(n[h],1,1,()=>{n[h]=null}),ze(),t=n[e],t?t.p(o,a):(t=n[e]=s[e](o),t.c()),H(t,1),t.m(i.parentNode,i))},i(o){r||(H(t),r=!0)},o(o){X(t),r=!1},d(o){n[e].d(o),o&&b(i)}}}const fl=(l,e)=>l-e;function zs(l,e,t){let{searchResults:i}=e,{highlight:r}=e,{groupResults:s=!0}=e,{jewel:n}=e,{conqueror:u}=e;const o=d=>8+48+d.skills.reduce((g,c)=>g+32+Object.keys(c.stats).length*24,0);let a="";const h=d=>parseInt(d),m=d=>t(5,a=a===d?"":d);return l.$$set=d=>{"searchResults"in d&&t(0,i=d.searchResults),"highlight"in d&&t(1,r=d.highlight),"groupResults"in d&&t(2,s=d.groupResults),"jewel"in d&&t(3,n=d.jewel),"conqueror"in d&&t(4,u=d.conqueror)},[i,r,s,n,u,a,o,h,m]}class Cs extends tt{constructor(e){super(),lt(this,e,zs,Ns,st,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const Ye={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:Os}=Rl;function ul(l,e,t){const i=l.slice();return i[77]=e[t],i[78]=e,i[79]=t,i}function cl(l,e,t){const i=l.slice();return i[70]=e[t],i}function dl(l,e,t){const i=l.slice();return i[70]=e[t],i}function hl(l,e,t){const i=l.slice();return i[70]=e[t],i}function Ds(l){let e,t,i,r,s,n,u,o;return{c(){e=E("button"),t=E("div"),i=U(),r=E("div"),s=U(),n=E("div"),this.h()},l(a){e=T(a,"BUTTON",{class:!0});var h=y(e);t=T(h,"DIV",{}),y(t).forEach(b),i=q(h),r=T(h,"DIV",{}),y(r).forEach(b),s=q(h),n=T(h,"DIV",{}),y(n).forEach(b),h.forEach(b),this.h()},h(){S(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(a,h){D(a,e,h),p(e,t),p(e,i),p(e,r),p(e,s),p(e,n),u||(o=te(e,"click",l[65]),u=!0)},p:Ke,i:Ke,o:Ke,d(a){a&&b(e),u=!1,o()}}}function Vs(l){let e,t,i,r,s,n,u,o,a,h,m,d,g=l[13]?"Results":"Timeless Jewel",c,f,_,w,N,M,O,A=l[17]&&ml(l),P=!l[13]&&gl(l),I=l[17]&&l[13]&&Al(l);return{c(){e=E("div"),t=E("div"),i=E("div"),r=E("div"),s=E("button"),n=E("div"),u=U(),o=E("div"),a=U(),h=E("div"),m=U(),d=E("h3"),c=J(g),f=U(),A&&A.c(),_=U(),P&&P.c(),w=U(),I&&I.c(),this.h()},l(R){e=T(R,"DIV",{class:!0});var V=y(e);t=T(V,"DIV",{class:!0});var C=y(t);i=T(C,"DIV",{class:!0});var K=y(i);r=T(K,"DIV",{class:!0});var Y=y(r);s=T(Y,"BUTTON",{class:!0});var Q=y(s);n=T(Q,"DIV",{}),y(n).forEach(b),u=q(Q),o=T(Q,"DIV",{}),y(o).forEach(b),a=q(Q),h=T(Q,"DIV",{}),y(h).forEach(b),Q.forEach(b),m=q(Y),d=T(Y,"H3",{class:!0});var B=y(d);c=L(B,g),B.forEach(b),Y.forEach(b),f=q(K),A&&A.l(K),K.forEach(b),_=q(C),P&&P.l(C),w=q(C),I&&I.l(C),C.forEach(b),V.forEach(b),this.h()},h(){S(s,"class","burger-menu mr-3"),S(d,"class","flex-grow"),S(r,"class","flex flex-row items-center"),S(i,"class","flex flex-row justify-between mb-2"),S(t,"class","p-4 max-h-screen flex flex-col"),S(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(R,V){D(R,e,V),p(e,t),p(t,i),p(i,r),p(r,s),p(s,n),p(s,u),p(s,o),p(s,a),p(s,h),p(r,m),p(r,d),p(d,c),p(i,f),A&&A.m(i,null),p(t,_),P&&P.m(t,null),p(t,w),I&&I.m(t,null),N=!0,M||(O=te(s,"click",l[44]),M=!0)},p(R,V){(!N||V[0]&8192)&&g!==(g=R[13]?"Results":"Timeless Jewel")&&ke(c,g),R[17]?A?A.p(R,V):(A=ml(R),A.c(),A.m(i,null)):A&&(A.d(1),A=null),R[13]?P&&(Ne(),X(P,1,1,()=>{P=null}),ze()):P?(P.p(R,V),V[0]&8192&&H(P,1)):(P=gl(R),P.c(),H(P,1),P.m(t,w)),R[17]&&R[13]?I?(I.p(R,V),V[0]&139264&&H(I,1)):(I=Al(R),I.c(),H(I,1),I.m(t,null)):I&&(Ne(),X(I,1,1,()=>{I=null}),ze())},i(R){N||(H(P),H(I),N=!0)},o(R){X(P),X(I),N=!1},d(R){R&&b(e),A&&A.d(),P&&P.d(),I&&I.d(),M=!1,O()}}}function ml(l){let e,t,i,r=l[13]?"Config":"Results",s,n,u,o=l[13]&&_l(l);return{c(){e=E("div"),o&&o.c(),t=U(),i=E("button"),s=J(r),this.h()},l(a){e=T(a,"DIV",{class:!0});var h=y(e);o&&o.l(h),t=q(h),i=T(h,"BUTTON",{class:!0});var m=y(i);s=L(m,r),m.forEach(b),h.forEach(b),this.h()},h(){S(i,"class","bg-neutral-100/20 px-4 p-1 rounded"),S(e,"class","flex flex-row")},m(a,h){D(a,e,h),o&&o.m(e,null),p(e,t),p(e,i),p(i,s),n||(u=te(i,"click",l[47]),n=!0)},p(a,h){a[13]?o?o.p(a,h):(o=_l(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),h[0]&8192&&r!==(r=a[13]?"Config":"Results")&&ke(s,r)},d(a){a&&b(e),o&&o.d(),n=!1,u()}}}function _l(l){let e,t,i,r,s,n,u,o,a;return{c(){e=E("button"),t=J("Trade"),r=U(),s=E("button"),n=J("Grouped"),this.h()},l(h){e=T(h,"BUTTON",{class:!0});var m=y(e);t=L(m,"Trade"),m.forEach(b),r=q(h),s=T(h,"BUTTON",{class:!0});var d=y(s);n=L(d,"Grouped"),d.forEach(b),this.h()},h(){S(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!l[17],S(s,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-lpk64y"),s.disabled=u=!l[17],he(s,"grouped",l[5])},m(h,m){D(h,e,m),p(e,t),D(h,r,m),D(h,s,m),p(s,n),o||(a=[te(e,"click",l[45]),te(s,"click",l[46])],o=!0)},p(h,m){m[0]&131072&&i!==(i=!h[17])&&(e.disabled=i),m[0]&131072&&u!==(u=!h[17])&&(s.disabled=u),m[0]&32&&he(s,"grouped",h[5])},d(h){h&&b(e),h&&b(r),h&&b(s),o=!1,Xe(a)}}}function gl(l){let e,t,i,r,s;function n(a){l[48](a)}let u={items:l[25]};l[0]!==void 0&&(u.value=l[0]),e=new At({props:u}),$e.push(()=>Vt(e,"value",n)),e.$on("select",l[31]);let o=l[0]&&pl(l);return{c(){Ce(e.$$.fragment),i=U(),o&&o.c(),r=we()},l(a){Oe(e.$$.fragment,a),i=q(a),o&&o.l(a),r=we()},m(a,h){De(e,a,h),D(a,i,h),o&&o.m(a,h),D(a,r,h),s=!0},p(a,h){const m={};!t&&h[0]&1&&(t=!0,m.value=a[0],Dt(()=>t=!1)),e.$set(m),a[0]?o?(o.p(a,h),h[0]&1&&H(o,1)):(o=pl(a),o.c(),H(o,1),o.m(r.parentNode,r)):o&&(Ne(),X(o,1,1,()=>{o=null}),ze())},i(a){s||(H(e.$$.fragment,a),H(o),s=!0)},o(a){X(e.$$.fragment,a),X(o),s=!1},d(a){Ve(e,a),a&&b(i),o&&o.d(a),a&&b(r)}}}function pl(l){let e,t,i,r,s,n,u,o=l[1]&&Object.keys(le.TimelessJewelConquerors[l[0].value]).indexOf(l[1].value)>=0,a,h;function m(c){l[49](c)}let d={items:l[24]};l[1]!==void 0&&(d.value=l[1]),s=new At({props:d}),$e.push(()=>Vt(s,"value",m)),s.$on("select",l[26]);let g=o&&bl(l);return{c(){e=E("div"),t=E("h3"),i=J("Conqueror"),r=U(),Ce(s.$$.fragment),u=U(),g&&g.c(),a=we(),this.h()},l(c){e=T(c,"DIV",{class:!0});var f=y(e);t=T(f,"H3",{class:!0});var _=y(t);i=L(_,"Conqueror"),_.forEach(b),r=q(f),Oe(s.$$.fragment,f),f.forEach(b),u=q(c),g&&g.l(c),a=we(),this.h()},h(){S(t,"class","mb-2"),S(e,"class","mt-4")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(e,r),De(s,e,null),D(c,u,f),g&&g.m(c,f),D(c,a,f),h=!0},p(c,f){const _={};f[0]&16777216&&(_.items=c[24]),!n&&f[0]&2&&(n=!0,_.value=c[1],Dt(()=>n=!1)),s.$set(_),f[0]&3&&(o=c[1]&&Object.keys(le.TimelessJewelConquerors[c[0].value]).indexOf(c[1].value)>=0),o?g?(g.p(c,f),f[0]&3&&H(g,1)):(g=bl(c),g.c(),H(g,1),g.m(a.parentNode,a)):g&&(Ne(),X(g,1,1,()=>{g=null}),ze())},i(c){h||(H(s.$$.fragment,c),H(g),h=!0)},o(c){X(s.$$.fragment,c),X(g),h=!1},d(c){c&&b(e),Ve(s),c&&b(u),g&&g.d(c),c&&b(a)}}}function bl(l){let e,t,i,r,s,n,u,o,a,h,m,d,g,c;const f=[Ls,Js],_=[];function w(M,O){return M[10]==="seed"?0:M[10]==="stats"?1:-1}~(o=w(l))&&(a=_[o]=f[o](l));let N=!l[3]&&yl();return{c(){e=E("div"),t=E("button"),i=J("Enter Seed"),r=U(),s=E("button"),n=J("Select Stats"),u=U(),a&&a.c(),h=U(),N&&N.c(),m=we(),this.h()},l(M){e=T(M,"DIV",{class:!0});var O=y(e);t=T(O,"BUTTON",{class:!0});var A=y(t);i=L(A,"Enter Seed"),A.forEach(b),r=q(O),s=T(O,"BUTTON",{class:!0});var P=y(s);n=L(P,"Select Stats"),P.forEach(b),O.forEach(b),u=q(M),a&&a.l(M),h=q(M),N&&N.l(M),m=we(),this.h()},h(){S(t,"class","selection-button svelte-lpk64y"),he(t,"selected",l[10]==="seed"),S(s,"class","selection-button svelte-lpk64y"),he(s,"selected",l[10]==="stats"),S(e,"class","mt-4 w-full flex flex-row")},m(M,O){D(M,e,O),p(e,t),p(t,i),p(e,r),p(e,s),p(s,n),D(M,u,O),~o&&_[o].m(M,O),D(M,h,O),N&&N.m(M,O),D(M,m,O),d=!0,g||(c=[te(t,"click",l[50]),te(s,"click",l[51])],g=!0)},p(M,O){O[0]&1024&&he(t,"selected",M[10]==="seed"),O[0]&1024&&he(s,"selected",M[10]==="stats");let A=o;o=w(M),o===A?~o&&_[o].p(M,O):(a&&(Ne(),X(_[A],1,1,()=>{_[A]=null}),ze()),~o?(a=_[o],a?a.p(M,O):(a=_[o]=f[o](M),a.c()),H(a,1),a.m(h.parentNode,h)):a=null),M[3]?N&&(N.d(1),N=null):N||(N=yl(),N.c(),N.m(m.parentNode,m))},i(M){d||(H(a),d=!0)},o(M){X(a),d=!1},d(M){M&&b(e),M&&b(u),~o&&_[o].d(M),M&&b(h),N&&N.d(M),M&&b(m),g=!1,Xe(c)}}}function Js(l){let e,t,i,r,s,n,u=Object.keys(l[4]).length>0,o,a,h={items:l[22]};s=new At({props:h}),l[59](s),s.$on("select",l[29]);let m=u&&vl(l);return{c(){e=E("div"),t=E("h3"),i=J("Add Stat"),r=U(),Ce(s.$$.fragment),n=U(),m&&m.c(),o=we(),this.h()},l(d){e=T(d,"DIV",{class:!0});var g=y(e);t=T(g,"H3",{class:!0});var c=y(t);i=L(c,"Add Stat"),c.forEach(b),r=q(g),Oe(s.$$.fragment,g),g.forEach(b),n=q(d),m&&m.l(d),o=we(),this.h()},h(){S(t,"class","mb-2"),S(e,"class","mt-4")},m(d,g){D(d,e,g),p(e,t),p(t,i),p(e,r),De(s,e,null),D(d,n,g),m&&m.m(d,g),D(d,o,g),a=!0},p(d,g){const c={};g[0]&4194304&&(c.items=d[22]),s.$set(c),g[0]&16&&(u=Object.keys(d[4]).length>0),u?m?m.p(d,g):(m=vl(d),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(d){a||(H(s.$$.fragment,d),a=!0)},o(d){X(s.$$.fragment,d),a=!1},d(d){d&&b(e),l[59](null),Ve(s),d&&b(n),m&&m.d(d),d&&b(o)}}}function Ls(l){let e,t,i,r,s,n,u,o,a,h,m,d,g,c=(l[2]<le.TimelessJewelSeedRanges[l[0].value].Min||l[2]>le.TimelessJewelSeedRanges[l[0].value].Max)&&kl(l),f=l[2]>=le.TimelessJewelSeedRanges[l[0].value].Min&&l[2]<=le.TimelessJewelSeedRanges[l[0].value].Max&&Sl(l);return{c(){e=E("div"),t=E("h3"),i=J("Seed"),r=U(),s=E("input"),o=U(),c&&c.c(),a=U(),f&&f.c(),h=we(),this.h()},l(_){e=T(_,"DIV",{class:!0});var w=y(e);t=T(w,"H3",{class:!0});var N=y(t);i=L(N,"Seed"),N.forEach(b),r=q(w),s=T(w,"INPUT",{type:!0,min:!0,max:!0}),o=q(w),c&&c.l(w),w.forEach(b),a=q(_),f&&f.l(_),h=we(),this.h()},h(){S(t,"class","mb-2"),S(s,"type","number"),S(s,"min",n=le.TimelessJewelSeedRanges[l[0].value].Min),S(s,"max",u=le.TimelessJewelSeedRanges[l[0].value].Max),S(e,"class","mt-4")},m(_,w){D(_,e,w),p(e,t),p(t,i),p(e,r),p(e,s),We(s,l[2]),p(e,o),c&&c.m(e,null),D(_,a,w),f&&f.m(_,w),D(_,h,w),m=!0,d||(g=[te(s,"input",l[52]),te(s,"blur",l[26])],d=!0)},p(_,w){(!m||w[0]&1&&n!==(n=le.TimelessJewelSeedRanges[_[0].value].Min))&&S(s,"min",n),(!m||w[0]&1&&u!==(u=le.TimelessJewelSeedRanges[_[0].value].Max))&&S(s,"max",u),w[0]&4&&Ge(s.value)!==_[2]&&We(s,_[2]),_[2]<le.TimelessJewelSeedRanges[_[0].value].Min||_[2]>le.TimelessJewelSeedRanges[_[0].value].Max?c?c.p(_,w):(c=kl(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null),_[2]>=le.TimelessJewelSeedRanges[_[0].value].Min&&_[2]<=le.TimelessJewelSeedRanges[_[0].value].Max?f?(f.p(_,w),w[0]&5&&H(f,1)):(f=Sl(_),f.c(),H(f,1),f.m(h.parentNode,h)):f&&(Ne(),X(f,1,1,()=>{f=null}),ze())},i(_){m||(H(f),m=!0)},o(_){X(f),m=!1},d(_){_&&b(e),c&&c.d(),_&&b(a),f&&f.d(_),_&&b(h),d=!1,Xe(g)}}}function vl(l){let e,t,i,r,s,n,u,o,a,h,m,d,g,c,f,_,w,N,M,O,A,P,I,R,V,C,K,Y,Q,B,se,ee=Object.keys(l[4]),W=[];for(let j=0;j<ee.length;j+=1)W[j]=wl(ul(l,ee,j));function Ie(j,ne){return j[15]?Us:js}let pe=Ie(l),ae=pe(l);return{c(){e=E("div");for(let j=0;j<W.length;j+=1)W[j].c();t=U(),i=E("div"),r=E("div"),s=E("div"),n=J("Min Total Weight:"),u=U(),o=E("input"),a=U(),h=E("div"),m=E("div"),d=E("button"),g=J("Select All"),f=U(),_=E("button"),w=J("Notables"),M=U(),O=E("button"),A=J("Passives"),I=U(),R=E("button"),V=J("Deselect"),K=U(),Y=E("div"),Q=E("button"),ae.c(),this.h()},l(j){e=T(j,"DIV",{class:!0});var ne=y(e);for(let je=0;je<W.length;je+=1)W[je].l(ne);ne.forEach(b),t=q(j),i=T(j,"DIV",{class:!0});var Z=y(i);r=T(Z,"DIV",{class:!0});var z=y(r);s=T(z,"DIV",{class:!0});var ie=y(s);n=L(ie,"Min Total Weight:"),ie.forEach(b),u=q(z),o=T(z,"INPUT",{type:!0,min:!0}),z.forEach(b),Z.forEach(b),a=q(j),h=T(j,"DIV",{class:!0});var be=y(h);m=T(be,"DIV",{class:!0});var ce=y(m);d=T(ce,"BUTTON",{class:!0});var Se=y(d);g=L(Se,"Select All"),Se.forEach(b),f=q(ce),_=T(ce,"BUTTON",{class:!0});var Je=y(_);w=L(Je,"Notables"),Je.forEach(b),M=q(ce),O=T(ce,"BUTTON",{class:!0});var ve=y(O);A=L(ve,"Passives"),ve.forEach(b),I=q(ce),R=T(ce,"BUTTON",{class:!0});var Pe=y(R);V=L(Pe,"Deselect"),Pe.forEach(b),ce.forEach(b),K=q(be),Y=T(be,"DIV",{class:!0});var Le=y(Y);Q=T(Le,"BUTTON",{class:!0});var Qe=y(Q);ae.l(Qe),Qe.forEach(b),Le.forEach(b),be.forEach(b),this.h()},h(){S(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),S(s,"class","mr-2 min-w-fit"),S(o,"type","number"),S(o,"min","0"),S(r,"class","flex flex-row items-center"),S(i,"class","flex flex-col mt-2"),S(d,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),d.disabled=c=l[15]||l[11].size==0,S(_,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),_.disabled=N=l[15]||l[11].size==0,S(O,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),O.disabled=P=l[15]||l[11].size==0,S(R,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),R.disabled=C=l[15]||l[11].size>=l[9].length,S(m,"class","flex flex-row"),S(Q,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),Q.disabled=l[15],S(Y,"class","flex flex-row mt-2"),S(h,"class","flex flex-col mt-4")},m(j,ne){D(j,e,ne);for(let Z=0;Z<W.length;Z+=1)W[Z].m(e,null);D(j,t,ne),D(j,i,ne),p(i,r),p(r,s),p(s,n),p(r,u),p(r,o),We(o,l[14]),D(j,a,ne),D(j,h,ne),p(h,m),p(m,d),p(d,g),p(m,f),p(m,_),p(_,w),p(m,M),p(m,O),p(O,A),p(m,I),p(m,R),p(R,V),p(h,K),p(h,Y),p(Y,Q),ae.m(Q,null),B||(se=[te(o,"input",l[63]),te(d,"click",l[34]),te(_,"click",l[35]),te(O,"click",l[36]),te(R,"click",l[37]),te(Q,"click",l[64])],B=!0)},p(j,ne){if(ne[0]&1073741840){ee=Object.keys(j[4]);let Z;for(Z=0;Z<ee.length;Z+=1){const z=ul(j,ee,Z);W[Z]?W[Z].p(z,ne):(W[Z]=wl(z),W[Z].c(),W[Z].m(e,null))}for(;Z<W.length;Z+=1)W[Z].d(1);W.length=ee.length}ne[0]&16384&&Ge(o.value)!==j[14]&&We(o,j[14]),ne[0]&34816&&c!==(c=j[15]||j[11].size==0)&&(d.disabled=c),ne[0]&34816&&N!==(N=j[15]||j[11].size==0)&&(_.disabled=N),ne[0]&34816&&P!==(P=j[15]||j[11].size==0)&&(O.disabled=P),ne[0]&35328&&C!==(C=j[15]||j[11].size>=j[9].length)&&(R.disabled=C),pe===(pe=Ie(j))&&ae?ae.p(j,ne):(ae.d(1),ae=pe(j),ae&&(ae.c(),ae.m(Q,null))),ne[0]&32768&&(Q.disabled=j[15])},d(j){j&&b(e),et(W,j),j&&b(t),j&&b(i),j&&b(a),j&&b(h),ae.d(),B=!1,Xe(se)}}}function wl(l){let e,t,i,r,s,n,u=nt(l[4][l[77]].id)+"",o,a,h,m,d,g,c,f,_,w,N,M,O,A,P,I,R;function V(){return l[60](l[77])}function C(){l[61].call(f,l[77])}function K(){l[62].call(A,l[77])}return{c(){e=E("div"),t=E("div"),i=E("button"),r=J("-"),s=U(),n=E("span"),o=J(u),a=U(),h=E("div"),m=E("div"),d=E("div"),g=J("Min:"),c=U(),f=E("input"),_=U(),w=E("div"),N=E("div"),M=J("Weight:"),O=U(),A=E("input"),P=U(),this.h()},l(Y){e=T(Y,"DIV",{class:!0});var Q=y(e);t=T(Q,"DIV",{});var B=y(t);i=T(B,"BUTTON",{class:!0});var se=y(i);r=L(se,"-"),se.forEach(b),s=q(B),n=T(B,"SPAN",{});var ee=y(n);o=L(ee,u),ee.forEach(b),B.forEach(b),a=q(Q),h=T(Q,"DIV",{class:!0});var W=y(h);m=T(W,"DIV",{class:!0});var Ie=y(m);d=T(Ie,"DIV",{class:!0});var pe=y(d);g=L(pe,"Min:"),pe.forEach(b),c=q(Ie),f=T(Ie,"INPUT",{type:!0,min:!0}),Ie.forEach(b),_=q(W),w=T(W,"DIV",{class:!0});var ae=y(w);N=T(ae,"DIV",{class:!0});var j=y(N);M=L(j,"Weight:"),j.forEach(b),O=q(ae),A=T(ae,"INPUT",{type:!0,min:!0}),ae.forEach(b),W.forEach(b),P=q(Q),Q.forEach(b),this.h()},h(){S(i,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),S(d,"class","mr-2"),S(f,"type","number"),S(f,"min","0"),S(m,"class","mr-4 flex flex-row items-center"),S(N,"class","mr-2"),S(A,"type","number"),S(A,"min","0"),S(w,"class","flex flex-row items-center"),S(h,"class","mt-2 flex flex-row"),S(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(Y,Q){D(Y,e,Q),p(e,t),p(t,i),p(i,r),p(t,s),p(t,n),p(n,o),p(e,a),p(e,h),p(h,m),p(m,d),p(d,g),p(m,c),p(m,f),We(f,l[4][l[77]].min),p(h,_),p(h,w),p(w,N),p(N,M),p(w,O),p(w,A),We(A,l[4][l[77]].weight),p(e,P),I||(R=[te(i,"click",V),te(f,"input",C),te(A,"input",K)],I=!0)},p(Y,Q){l=Y,Q[0]&16&&u!==(u=nt(l[4][l[77]].id)+"")&&ke(o,u),Q[0]&16&&Ge(f.value)!==l[4][l[77]].min&&We(f,l[4][l[77]].min),Q[0]&16&&Ge(A.value)!==l[4][l[77]].weight&&We(A,l[4][l[77]].weight)},d(Y){Y&&b(e),I=!1,Xe(R)}}}function js(l){let e;return{c(){e=J("Search")},l(t){e=L(t,"Search")},m(t,i){D(t,e,i)},p:Ke,d(t){t&&b(e)}}}function Us(l){let e,t,i=le.TimelessJewelSeedRanges[l[0].value].Max+"",r;return{c(){e=J(l[16]),t=J(" / "),r=J(i)},l(s){e=L(s,l[16]),t=L(s," / "),r=L(s,i)},m(s,n){D(s,e,n),D(s,t,n),D(s,r,n)},p(s,n){n[0]&65536&&ke(e,s[16]),n[0]&1&&i!==(i=le.TimelessJewelSeedRanges[s[0].value].Max+"")&&ke(r,i)},d(s){s&&b(e),s&&b(t),s&&b(r)}}}function kl(l){let e,t,i=le.TimelessJewelSeedRanges[l[0].value].Min+"",r,s,n=le.TimelessJewelSeedRanges[l[0].value].Max+"",u;return{c(){e=E("div"),t=J("Seed must be between "),r=J(i),s=J(`
                      and `),u=J(n),this.h()},l(o){e=T(o,"DIV",{class:!0});var a=y(e);t=L(a,"Seed must be between "),r=L(a,i),s=L(a,`
                      and `),u=L(a,n),a.forEach(b),this.h()},h(){S(e,"class","mt-2")},m(o,a){D(o,e,a),p(e,t),p(e,r),p(e,s),p(e,u)},p(o,a){a[0]&1&&i!==(i=le.TimelessJewelSeedRanges[o[0].value].Min+"")&&ke(r,i),a[0]&1&&n!==(n=le.TimelessJewelSeedRanges[o[0].value].Max+"")&&ke(u,n)},d(o){o&&b(e)}}}function Sl(l){let e,t,i,r,s,n,u,o,a,h,m,d,g,c,f,_,w,N,M,O;function A(C){l[53](C)}let P={items:l[40]};l[6]!==void 0&&(P.value=l[6]),n=new At({props:P}),$e.push(()=>Vt(n,"value",A));function I(C,K){return C[8]?qs:Fs}let R=I(l),V=R(l);return{c(){e=E("div"),t=E("div"),i=E("h3"),r=J("Sort Order"),s=U(),Ce(n.$$.fragment),o=U(),a=E("div"),h=E("button"),m=J("Colors"),d=U(),g=E("div"),c=E("button"),f=J("Split"),_=U(),V.c(),w=we(),this.h()},l(C){e=T(C,"DIV",{class:!0});var K=y(e);t=T(K,"DIV",{class:!0});var Y=y(t);i=T(Y,"H3",{class:!0});var Q=y(i);r=L(Q,"Sort Order"),Q.forEach(b),s=q(Y),Oe(n.$$.fragment,Y),Y.forEach(b),o=q(K),a=T(K,"DIV",{class:!0});var B=y(a);h=T(B,"BUTTON",{class:!0});var se=y(h);m=L(se,"Colors"),se.forEach(b),B.forEach(b),d=q(K),g=T(K,"DIV",{class:!0});var ee=y(g);c=T(ee,"BUTTON",{class:!0});var W=y(c);f=L(W,"Split"),W.forEach(b),ee.forEach(b),K.forEach(b),_=q(C),V.l(C),w=we(),this.h()},h(){S(i,"class","mb-2"),S(t,"class","flex-grow"),S(h,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-lpk64y"),he(h,"selected",l[7]),S(a,"class","ml-2"),S(c,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-lpk64y"),he(c,"selected",l[8]),S(g,"class","ml-2"),S(e,"class","flex flex-row mt-4 items-end")},m(C,K){D(C,e,K),p(e,t),p(t,i),p(i,r),p(t,s),De(n,t,null),p(e,o),p(e,a),p(a,h),p(h,m),p(e,d),p(e,g),p(g,c),p(c,f),D(C,_,K),V.m(C,K),D(C,w,K),N=!0,M||(O=[te(h,"click",l[54]),te(c,"click",l[55])],M=!0)},p(C,K){const Y={};!u&&K[0]&64&&(u=!0,Y.value=C[6],Dt(()=>u=!1)),n.$set(Y),K[0]&128&&he(h,"selected",C[7]),K[0]&256&&he(c,"selected",C[8]),R===(R=I(C))&&V?V.p(C,K):(V.d(1),V=R(C),V&&(V.c(),V.m(w.parentNode,w)))},i(C){N||(H(n.$$.fragment,C),N=!0)},o(C){X(n.$$.fragment,C),N=!1},d(C){C&&b(e),Ve(n),C&&b(_),V.d(C),C&&b(w),M=!1,Xe(O)}}}function qs(l){let e,t,i,r,s,n,u,o,a,h,m=l[39](l[38](l[23],l[7],"notables"),l[6].value),d=[];for(let f=0;f<m.length;f+=1)d[f]=Il(dl(l,m,f));let g=l[39](l[38](l[23],l[7],"passives"),l[6].value),c=[];for(let f=0;f<g.length;f+=1)c[f]=El(cl(l,g,f));return{c(){e=E("div"),t=E("h3"),i=J("Notables"),r=U(),s=E("ul");for(let f=0;f<d.length;f+=1)d[f].c();n=U(),u=E("h3"),o=J("Smalls"),a=U(),h=E("ul");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=T(f,"DIV",{class:!0});var _=y(e);t=T(_,"H3",{});var w=y(t);i=L(w,"Notables"),w.forEach(b),r=q(_),s=T(_,"UL",{class:!0});var N=y(s);for(let A=0;A<d.length;A+=1)d[A].l(N);N.forEach(b),n=q(_),u=T(_,"H3",{class:!0});var M=y(u);o=L(M,"Smalls"),M.forEach(b),a=q(_),h=T(_,"UL",{class:!0});var O=y(h);for(let A=0;A<c.length;A+=1)c[A].l(O);O.forEach(b),_.forEach(b),this.h()},h(){S(s,"class","mt-1 svelte-lpk64y"),he(s,"rainbow",l[7]),S(u,"class","mt-2"),S(h,"class","mt-1 svelte-lpk64y"),he(h,"rainbow",l[7]),S(e,"class","overflow-auto mt-4")},m(f,_){D(f,e,_),p(e,t),p(t,i),p(e,r),p(e,s);for(let w=0;w<d.length;w+=1)d[w].m(s,null);p(e,n),p(e,u),p(u,o),p(e,a),p(e,h);for(let w=0;w<c.length;w+=1)c[w].m(h,null)},p(f,_){if(_[0]&8388804|_[1]&388){m=f[39](f[38](f[23],f[7],"notables"),f[6].value);let w;for(w=0;w<m.length;w+=1){const N=dl(f,m,w);d[w]?d[w].p(N,_):(d[w]=Il(N),d[w].c(),d[w].m(s,null))}for(;w<d.length;w+=1)d[w].d(1);d.length=m.length}if(_[0]&128&&he(s,"rainbow",f[7]),_[0]&8388804|_[1]&388){g=f[39](f[38](f[23],f[7],"passives"),f[6].value);let w;for(w=0;w<g.length;w+=1){const N=cl(f,g,w);c[w]?c[w].p(N,_):(c[w]=El(N),c[w].c(),c[w].m(h,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=g.length}_[0]&128&&he(h,"rainbow",f[7])},d(f){f&&b(e),et(d,f),et(c,f)}}}function Fs(l){let e,t=l[39](l[38](l[23],l[7],"all"),l[6].value),i=[];for(let r=0;r<t.length;r+=1)i[r]=Tl(hl(l,t,r));return{c(){e=E("ul");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=T(r,"UL",{class:!0});var s=y(e);for(let n=0;n<i.length;n+=1)i[n].l(s);s.forEach(b),this.h()},h(){S(e,"class","mt-4 overflow-auto svelte-lpk64y"),he(e,"rainbow",l[7])},m(r,s){D(r,e,s);for(let n=0;n<i.length;n+=1)i[n].m(e,null)},p(r,s){if(s[0]&8388804|s[1]&388){t=r[39](r[38](r[23],r[7],"all"),r[6].value);let n;for(n=0;n<t.length;n+=1){const u=hl(r,t,n);i[n]?i[n].p(u,s):(i[n]=Tl(u),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=t.length}s[0]&128&&he(e,"rainbow",r[7])},d(r){r&&b(e),et(i,r)}}}function Il(l){let e,t,i,r=l[70].passives.length+"",s,n,u,o,a=l[70].stat+"",h,m,d;function g(){return l[57](l[70])}return{c(){e=E("li"),t=E("span"),i=J("("),s=J(r),n=J(")"),u=U(),o=E("span"),h=U(),this.h()},l(c){e=T(c,"LI",{class:!0});var f=y(e);t=T(f,"SPAN",{class:!0});var _=y(t);i=L(_,"("),s=L(_,r),n=L(_,")"),_.forEach(b),u=q(f),o=T(f,"SPAN",{class:!0});var w=y(o);w.forEach(b),h=q(f),f.forEach(b),this.h()},h(){S(t,"class","font-bold"),he(t,"text-white",(Ye[l[70].id]||0)<3),S(o,"class","text-white"),S(e,"class","cursor-pointer")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(t,s),p(t,n),p(e,u),p(e,o),o.innerHTML=a,p(e,h),m||(d=te(e,"click",g),m=!0)},p(c,f){l=c,f[0]&8388800&&r!==(r=l[70].passives.length+"")&&ke(s,r),f[0]&8388800|f[1]&384&&he(t,"text-white",(Ye[l[70].id]||0)<3),f[0]&8388800&&a!==(a=l[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),m=!1,d()}}}function El(l){let e,t,i,r=l[70].passives.length+"",s,n,u,o,a=l[70].stat+"",h,m,d;function g(){return l[58](l[70])}return{c(){e=E("li"),t=E("span"),i=J("("),s=J(r),n=J(")"),u=U(),o=E("span"),h=U(),this.h()},l(c){e=T(c,"LI",{class:!0});var f=y(e);t=T(f,"SPAN",{class:!0});var _=y(t);i=L(_,"("),s=L(_,r),n=L(_,")"),_.forEach(b),u=q(f),o=T(f,"SPAN",{class:!0});var w=y(o);w.forEach(b),h=q(f),f.forEach(b),this.h()},h(){S(t,"class","font-bold"),he(t,"text-white",(Ye[l[70].id]||0)<3),S(o,"class","text-white"),S(e,"class","cursor-pointer")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(t,s),p(t,n),p(e,u),p(e,o),o.innerHTML=a,p(e,h),m||(d=te(e,"click",g),m=!0)},p(c,f){l=c,f[0]&8388800&&r!==(r=l[70].passives.length+"")&&ke(s,r),f[0]&8388800|f[1]&384&&he(t,"text-white",(Ye[l[70].id]||0)<3),f[0]&8388800&&a!==(a=l[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),m=!1,d()}}}function Tl(l){let e,t,i,r=l[70].passives.length+"",s,n,u,o,a=l[70].stat+"",h,m,d;function g(){return l[56](l[70])}return{c(){e=E("li"),t=E("span"),i=J("("),s=J(r),n=J(")"),u=U(),o=E("span"),h=U(),this.h()},l(c){e=T(c,"LI",{class:!0});var f=y(e);t=T(f,"SPAN",{class:!0});var _=y(t);i=L(_,"("),s=L(_,r),n=L(_,")"),_.forEach(b),u=q(f),o=T(f,"SPAN",{class:!0});var w=y(o);w.forEach(b),h=q(f),f.forEach(b),this.h()},h(){S(t,"class","font-bold"),he(t,"text-white",(Ye[l[70].id]||0)<3),S(o,"class","text-white"),S(e,"class","cursor-pointer")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(t,s),p(t,n),p(e,u),p(e,o),o.innerHTML=a,p(e,h),m||(d=te(e,"click",g),m=!0)},p(c,f){l=c,f[0]&8388800&&r!==(r=l[70].passives.length+"")&&ke(s,r),f[0]&8388800|f[1]&384&&he(t,"text-white",(Ye[l[70].id]||0)<3),f[0]&8388800&&a!==(a=l[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),m=!1,d()}}}function yl(l){let e,t;return{c(){e=E("h2"),t=J("Click on a jewel socket"),this.h()},l(i){e=T(i,"H2",{class:!0});var r=y(e);t=L(r,"Click on a jewel socket"),r.forEach(b),this.h()},h(){S(e,"class","mt-4")},m(i,r){D(i,e,r),p(e,t)},d(i){i&&b(e)}}}function Al(l){let e,t;return e=new Cs({props:{searchResults:l[17],groupResults:l[5],highlight:l[33],jewel:l[18],conqueror:l[19]}}),{c(){Ce(e.$$.fragment)},l(i){Oe(e.$$.fragment,i)},m(i,r){De(e,i,r),t=!0},p(i,r){const s={};r[0]&131072&&(s.searchResults=i[17]),r[0]&32&&(s.groupResults=i[5]),r[0]&262144&&(s.jewel=i[18]),r[0]&524288&&(s.conqueror=i[19]),e.$set(s)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){Ve(e,i)}}}function Bs(l){let e,t,i,r,s,n,u;const o=[Vs,Ds],a=[];function h(m,d){return m[21]?1:0}return e=h(l),t=a[e]=o[e](l),{c(){t.c(),i=U(),r=E("div"),s=E("a"),n=J("Source (Github)"),this.h()},l(m){t.l(m),i=q(m),r=T(m,"DIV",{class:!0});var d=y(r);s=T(d,"A",{href:!0,target:!0,rel:!0});var g=y(s);n=L(g,"Source (Github)"),g.forEach(b),d.forEach(b),this.h()},h(){S(s,"href","https://github.com/Vilsol/timeless-jewels"),S(s,"target","_blank"),S(s,"rel","noopener"),S(r,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(m,d){a[e].m(m,d),D(m,i,d),D(m,r,d),p(r,s),p(s,n),u=!0},p(m,d){let g=e;e=h(m),e===g?a[e].p(m,d):(Ne(),X(a[g],1,1,()=>{a[g]=null}),ze(),t=a[e],t?t.p(m,d):(t=a[e]=o[e](m),t.c()),H(t,1),t.m(i.parentNode,i))},i(m){u||(H(t),u=!0)},o(m){X(t),u=!1},d(m){a[e].d(m),m&&b(i),m&&b(r)}}}function Hs(l){var s,n;let e,t,i,r;return e=new gs({props:{clickNode:l[28],circledNode:l[3],selectedJewel:(s=l[0])==null?void 0:s.value,selectedConqueror:(n=l[1])==null?void 0:n.value,highlighted:l[20],seed:l[2],highlightJewels:!l[3],disabled:[...l[11]],$$slots:{default:[Bs]},$$scope:{ctx:l}}}),{c(){Ce(e.$$.fragment)},l(u){Oe(e.$$.fragment,u)},m(u,o){De(e,u,o),t=!0,i||(r=te(Os,"paste",l[41]),i=!0)},p(u,o){var h,m;const a={};o[0]&8&&(a.circledNode=u[3]),o[0]&1&&(a.selectedJewel=(h=u[0])==null?void 0:h.value),o[0]&2&&(a.selectedConqueror=(m=u[1])==null?void 0:m.value),o[0]&1048576&&(a.highlighted=u[20]),o[0]&4&&(a.seed=u[2]),o[0]&8&&(a.highlightJewels=!u[3]),o[0]&2048&&(a.disabled=[...u[11]]),o[0]&32505855|o[2]&262144&&(a.$$scope={dirty:o,ctx:u}),e.$set(a)},i(u){t||(H(e.$$.fragment,u),t=!0)},o(u){X(e.$$.fragment,u),t=!1},d(u){Ve(e,u),i=!1,r()}}}function Ks(l,e,t){let i,r,s,n,u,o;Ae(l,ts,k=>t(66,o=k));const a=o.url.searchParams,h=Object.keys(le.TimelessJewels).map(k=>({value:parseInt(k),label:le.TimelessJewels[k]}));let m=a.has("jewel")?h.find(k=>k.value==a.get("jewel")):void 0,d=a.has("conqueror")?{value:a.get("conqueror"),label:a.get("conqueror")}:void 0,g=a.has("seed")?parseInt(a.get("seed")):0,c=a.has("location")?parseInt(a.get("location")):void 0,f={};a.has("stat")&&a.getAll("stat").forEach(k=>{const x=parseInt(k);t(4,f[x]={weight:1,min:0,id:x},f)});let _=a.has("mode")?a.get("mode"):"";const w=()=>{const k=new URL(window.location.origin+window.location.pathname);m&&k.searchParams.append("jewel",m.value.toString()),d&&k.searchParams.append("conqueror",d.value),g&&k.searchParams.append("seed",g.toString()),c&&k.searchParams.append("location",c.toString()),_&&k.searchParams.append("mode",_),Object.keys(f).forEach(x=>{k.searchParams.append("stat",x.toString())}),es(k.toString())},N=k=>{t(10,_=k),w()};let M=new Set;const O=k=>{k.isJewelSocket?(t(3,c=k.skill),w()):k.isMastery||(M.has(k.skill)?M.delete(k.skill):M.add(k.skill),t(11,M))},A=JSON.parse(le.PossibleStats);let P;const I=k=>{t(4,f[k.detail.value]={weight:1,min:0,id:k.detail.value},f),t(4,f),P.handleClear(),w()},R=k=>{delete f[k],t(4,f),w()},V=()=>{t(4,f={}),w()};let C=!1,K=0,Y=!1,Q=0,B,se=1,ee="";const W=()=>{if(!c)return;t(18,se=m.value),t(19,ee=d.value),t(15,Y=!0),t(17,B=void 0);const k={jewel:m.value,conqueror:d.value,nodes:r.filter(x=>!M.has(x.skill)).map(x=>le.TreeToPassive[x.skill].Index),stats:Object.keys(f).map(x=>f[x]),minTotalWeight:K};xl.search(k,$l(x=>t(16,Q=x))).then(x=>{t(17,B=x),t(15,Y=!1),t(13,C=!0)})};let Ie=[];const pe=(k,x)=>{t(2,g=k),t(20,Ie=x),w()},ae=()=>{M.clear(),t(11,M)},j=()=>{r.forEach(k=>{k.isNotable&&M.delete(k.skill)}),t(11,M)},ne=()=>{r.forEach(k=>{k.isNotable||M.delete(k.skill)}),t(11,M)},Z=()=>{r.filter(k=>!k.isJewelSocket&&!k.isMastery).forEach(k=>M.add(k.skill)),t(11,M)};let z=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const ie={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},be=k=>(Object.keys(ie).forEach(x=>{const ue=ie[x];k=k.replace(new RegExp(`(${x}(?:$|\\s))|((?:^|\\s)${x})`,"gi"),`<span style='color: ${ue}; font-weight: bold'>$1$2</span>`)}),k),ce=(k,x,ue)=>{const $={};return k.forEach(F=>{qe.nodes[F.node].isKeystone||ue!=="all"&&(ue==="notables"&&!qe.nodes[F.node].isNotable||ue==="passives"&&qe.nodes[F.node].isNotable)||(F.result.AlternatePassiveSkill&&F.result.AlternatePassiveSkill.StatsKeys&&F.result.AlternatePassiveSkill.StatsKeys.forEach(G=>{$[G]=[...$[G]||[],F.node]}),F.result.AlternatePassiveAdditionInformations&&F.result.AlternatePassiveAdditionInformations.forEach(G=>{G.AlternatePassiveAddition.StatsKeys&&G.AlternatePassiveAddition.StatsKeys.forEach(re=>{$[re]=[...$[re]||[],F.node]})}))}),Object.keys($).map(F=>{const G=nt(parseInt(F));return{stat:x?be(G):G,rawStat:G,id:F,passives:$[F]}})},Se=(k,x)=>{switch(x){case"alphabet":return k.sort((ue,$)=>ue.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare($.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return k.sort((ue,$)=>$.passives.length-ue.passives.length);case"rarity":return k.sort((ue,$)=>A[m.value][ue.id]-A[m.value][$.id]);case"value":return k.sort((ue,$)=>{const F=Ye[ue.id]||0,G=Ye[$.id]||0;return F!=G?G-F:A[m.value][ue.id]-A[m.value][$.id]})}return k},Je=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let ve=Je.find(k=>k.value===(localStorage.getItem("sortOrder")||"count")),Pe=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",Le=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const Qe=k=>{if(k.type!=="paste")return;const ue=(k.clipboardData||window.clipboardData).getData("text").split(`
`);if(ue.length<14)return;const $=h.find(re=>re.label===ue[2]);if(!$)return;let F,G;for(let re=10;re<ue.length;re++)if(G=Object.keys(le.TimelessJewelConquerors[$.value]).find(oe=>ue[re].indexOf(oe)>=0),G){const oe=/(\d+)/.exec(ue[re]);if(oe.length===0)continue;F=parseInt(oe[1]);break}!G||!F||(t(13,C=!1),t(10,_="seed"),t(2,g=F),t(0,m=$),t(1,d={label:G,value:G}),w())};let je=!1;const _t=()=>t(21,je=!0),gt=()=>Ml(se,ee,B.raw),Ee=()=>t(5,z=!z),pt=()=>t(13,C=!C);function bt(k){m=k,t(0,m)}function vt(k){d=k,t(1,d)}const wt=()=>N("seed"),ot=()=>N("stats");function Pt(){g=Ge(this.value),t(2,g)}function Rt(k){ve=k,t(6,ve)}const Mt=()=>t(7,Pe=!Pe),Nt=()=>t(8,Le=!Le),kt=k=>pe(g,k.passives),St=k=>pe(g,k.passives),It=k=>pe(g,k.passives);function at(k){$e[k?"unshift":"push"](()=>{P=k,t(12,P)})}const v=k=>R(f[k].id);function me(k){f[k].min=Ge(this.value),t(4,f)}function Te(k){f[k].weight=Ge(this.value),t(4,f)}function de(){K=Ge(this.value),t(14,K)}const fe=()=>W(),_e=()=>t(21,je=!1);return l.$$.update=()=>{l.$$.dirty[0]&1&&t(24,i=m?Object.keys(le.TimelessJewelConquerors[m.value]).map(k=>({value:k,label:k})):[]),l.$$.dirty[0]&8&&t(9,r=c?Zl(qe.nodes[c]).filter(k=>!k.isJewelSocket&&!k.isMastery):[]),l.$$.dirty[0]&519&&t(23,s=!g||!m||!d||Object.keys(le.TimelessJewelConquerors[m.value]).indexOf(d.value)<0?[]:r.map(k=>({node:k.skill,result:Nl.Calculate(le.TreeToPassive[k.skill].Index,g,m.value,d.value)}))),l.$$.dirty[0]&1&&t(43,n=m?Object.keys(A[m.value]):[]),l.$$.dirty[0]&16|l.$$.dirty[1]&4096&&t(22,u=n.map(k=>{const x=parseInt(k);return{label:nt(x),value:x}}).filter(k=>!(k.value in f))),l.$$.dirty[0]&32&&localStorage.setItem("groupResults",z?"true":"false"),l.$$.dirty[0]&64&&localStorage.setItem("sortOrder",ve.value),l.$$.dirty[0]&128&&localStorage.setItem("colored",Pe?"true":"false"),l.$$.dirty[0]&256&&localStorage.setItem("split",Le?"true":"false")},[m,d,g,c,f,z,ve,Pe,Le,r,_,M,P,C,K,Y,Q,B,se,ee,Ie,je,u,s,i,h,w,N,O,I,R,V,W,pe,ae,j,ne,Z,ce,Se,Je,Qe,ie,n,_t,gt,Ee,pt,bt,vt,wt,ot,Pt,Rt,Mt,Nt,kt,St,It,at,v,me,Te,de,fe,_e]}class xs extends tt{constructor(e){super(),lt(this,e,Ks,Hs,st,{colorKeys:42},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[42]}}export{xs as default};
